# 🧭 六周总体节奏（2+4周）

| 阶段                 | 周次       | 阶段目标                               | 阶段成果                           |
| -------------------- | ---------- | -------------------------------------- | ---------------------------------- |
| **阶段 1：设计阶段** | 第 1～2 周 | 明确架构与模型，输出设计报告（小报告） | 小报告 + 架构图 + 模型设计方案     |
| **阶段 2：实现阶段** | 第 3～6 周 | 编码、调试、性能评测与终期报告         | 可运行模拟器 + 实验数据 + 终期报告 |

------

# 📘 阶段 1（第 1～2 周）——设计与小报告阶段（详细版）

## 🎯 阶段目标

1. 弄清楚 CXL.mem、PMEM、DAX、NVMe、MS-SSD 的原理与区别；
2. 设计出完整的 **MS-SSD 模拟器架构图** 和 **时延建模方案**；
3. 输出一份小报告（≈10 页，包含架构、模型、后续计划）。

------

## 👥 角色与分工

| 成员                      | 方向               | 职责概要                                                    |
| ------------------------- | ------------------ | ----------------------------------------------------------- |
| **A（系统架构负责人）**   | 内核接口与访问路径 | 研究 Linux mmap/page-fault/DAX 机制，确定设备架构与访问路径 |
| **B（性能建模负责人）**   | 延迟模型与参数分析 | 阅读论文，设计延迟/带宽/队列模型及配置结构体                |
| **C（文档与实验负责人）** | 报告撰写与图表整理 | 环境搭建、报告写作、图表绘制、团队协调                      |

------

## 🗓 第 1 周 —— 调研与总体构思

> **目标：** 理解系统背景，确定架构方向与分工。

| 日期     | A（系统）                                                    | B（性能）                                    | C（文档+实验）                                           |
| -------- | ------------------------------------------------------------ | -------------------------------------------- | -------------------------------------------------------- |
| **周一** | 了解 CXL.mem、DAX、PMEM 的访问路径；画出 Linux 虚拟内存层次图。 | 阅读《2B-SSD》，整理接口语义与延迟模型。     | 建立 Git 仓库，配置开发/文档环境。                       |
| **周二** | 阅读 `vm_operations_struct` / `fault()` 逻辑；理解 mmap 与缺页机制。 | 阅读《FlatFlash》，提取页迁移与延迟思想。    | 与 B 共同讨论，创建“相关研究对比表模板”（列标题+示例）。 |
| **周三** | 绘制 “mmap→fault→PFN 映射” 流程图，标注延迟注入点。          | 阅读《TieredHM》，总结分层混合内存访问思想。 | 听取 B 讲解论文要点，将笔记填入对比表（由 B 审核）。     |
| **周四** | 设计 `/dev/ms-ssd0` 的接口草图（open/mmap/ioctl）。          | 阅读《FlashMap》，理解统一地址映射思想。     | 起草报告“相关研究综述”章节初稿。                         |
| **周五** | 完成总体架构草图（用户态↔内核态↔内存池↔持久层）。            | 汇总各论文延迟参数范围，形成延迟表。         | 整理文档框架：绪论、相关研究、系统设计、延迟模型。       |
| **周末** | 团队会议：讨论并确定架构草稿与任务边界。                     | 输出延迟模型初稿结构。                       | 汇总小报告 v0.1 草稿，准备下周完善。                     |

------

## 🗓 第 2 周 —— 设计定稿与小报告提交

> **目标：** 明确系统模块接口、时延模型方案、持久化策略。

| 日期     | A（系统）                                                   | B（性能）                                     | C（文档+实验）                            |
| -------- | ----------------------------------------------------------- | --------------------------------------------- | ----------------------------------------- |
| **周一** | 设计 page-fault / page_mkwrite 时序；确定延迟插入位置。     | 设计延迟模型接口（参数结构体、调用方式）。    | 整理第 1 周文档，撰写“系统设计”章节初稿。 |
| **周二** | 确定内存池管理方案（vzalloc vs memmap）；绘制内核数据流图。 | 研究延迟分布模型（常数/对数正态/Pareto 尾）。 | 绘制系统架构与流程图。                    |
| **周三** | 设计 ioctl / sysfs 接口及参数表。                           | 定义带宽/QD/延迟分布的配置机制。              | 完成报告“延迟建模与配置机制”章节。        |
| **周四** | 设计持久化策略（write-back / write-through）。              | 汇总论文数据与初步模型参数推荐值。            | 报告“持久化策略”与“后续计划”章节。        |
| **周五** | 复核架构与接口一致性，准备答辩讲解稿。                      | 校对延迟模型内容与公式。                      | 汇总所有章节、图表，排版生成小报告。      |
| **周末** | 团队汇报与答辩。                                            | 讨论实现阶段计划。                            | 提交小报告 PDF。                          |

------

## 🟩 阶段 1 成果（第 2 周末）

- 《MS-SSD 模拟器设计报告》（≈10页）
  - 含架构图、page-fault 时序图、延迟模型参数表、持久化策略说明。
- 论文对比表（2B-SSD / FlatFlash / TieredHM / FlashMap / CXL.mem）。
- 下一阶段实现计划（第 3～6 周目标与分工）。

------

# ⚙️ 阶段 2（第 3～6 周）——实现与验证阶段（概要）

| 周次      | 阶段目标     | A（系统）                                 | B（性能）                                | C（实验+文档）                   |
| --------- | ------------ | ----------------------------------------- | ---------------------------------------- | -------------------------------- |
| **第3周** | 内核模块雏形 | 注册 `/dev/ms-ssd0`，实现 mmap+fault 框架 | 实现 simulate_latency() 函数（固定延迟） | 编写 mmap 测试程序，验证可访问性 |
| **第4周** | 延迟模型接入 | fault/mkwrite 调用延迟模型                | 加入带宽/QD 限制与随机分布               | 收集访问统计，画延迟曲线         |
| **第5周** | 持久化机制   | 实现写回线程与镜像文件接口                | 优化模型精度                             | 搭建 fio / benchmark 脚本        |
| **第6周** | 实验与报告   | 完善统计接口，调优参数                    | 分析实验结果，绘图                       | 撰写终期报告与展示 PPT           |

------

## ✅ 最终成果（第 6 周末）

1. 可加载的 `/dev/ms-ssd0` 模块；
2. 用户态控制工具 `msctl`；
3. 可配置延迟/带宽的 CXL.mem 模拟器；
4. 实验数据 + 终期报告 + 答辩展示。